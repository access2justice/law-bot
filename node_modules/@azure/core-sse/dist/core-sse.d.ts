/// <reference types="node" />

import type { IncomingMessage } from 'node:http';

/**
 * Processes a response stream into a stream of events.
 * @param chunkStream - A stream of Uint8Array chunks
 * @returns An async iterable of EventMessage objects
 */
export declare function createSseStream(chunkStream: ReadableStream<Uint8Array>): EventMessageStream;

/**
 * Processes a response stream into a stream of events.
 * @param chunkStream - An async iterable of Uint8Array chunks
 * @returns An async iterable of EventMessage objects
 */
export declare function createSseStream(chunkStream: IncomingMessage): EventMessageStream;

/**
 * Represents a message sent in an event stream
 * https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events/Using_server-sent_events#Event_stream_format
 */
export declare interface EventMessage {
    /** The event ID to set the EventSource object's last event ID value. */
    id: string;
    /** A string identifying the type of event described. */
    event: string;
    /** The event data */
    data: string;
    /** The reconnection interval (in milliseconds) to wait before retrying the connection */
    retry?: number;
}

/**
 * A stream of event messages
 */
export declare interface EventMessageStream extends ReadableStream<EventMessage>, AsyncDisposable, AsyncIterable<EventMessage> {
}

export { }
